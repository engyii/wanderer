/*! wanderer v0.0.0 | (c) 2017 @engy | https://github.com/engyii/wanderer | license MIT */
!function(n,e){"function"==typeof define&&define.amd?define(["signals"],e):"object"==typeof exports?module.exports=e(require("signals")):n.wanderer=e(n.signals)}(this,function(n){"use strict";function e(){var n=window.location.pathname+window.location.search;try{return a.raw?n:decodeURIComponent(n)}catch(e){return n}}function t(n){r!==n&&(s=r,r=n,a.changed.dispatch(n,s))}function i(){var n=e();n!==r&&t(n)}var o,r,a,s,c=n.Signal,d=window.history,a={stopped:new c,initialized:new c,changed:new c,raw:!1,isActive:function(){return o},init:function(){o||(r=e(),window.addEventListener("popstate",i),o=!0,a.initialized.dispatch(r))},stop:function(){o&&(window.removeListener("popstate",i),o=!1,a.stopped.dispatch(r))},setURL:function(n){n!==r&&(a.raw||(n=encodeURI(n)),d.pushState(null,null,n),t(n))},getURL:function(){return e()},replaceURL:function(n){n!==r&&(a.raw||(n=encodeURI(n)),d.replaceState(null,null,n),t(n))},getUrlArray:function(){return a.getURL().split("/")},setUrlArray:function(n){var e=n.join("/");a.setURL(e)},dispose:function(){a.stop(),a.initialized.dispose(),a.stopped.dispose(),a.changed.dispose(),a=null}};return a.initialized.memorize=!0,a});